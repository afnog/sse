INSTALLATION AND CONFIGURING WORDPRESS
-------------------------------------------------------------------


1. Install Wordpress:
------------------------------------------------------------------------------------

1.1 Install wordpress using packages:

	$ sudo apt-get install wordpress


2. Configure Wordpress

2.1 Create the mysql database for wordpress:

$ mysql -u root -p
Password:
mysql> CREATE DATABASE wordpress; 
mysql> GRANT ALL PRIVILEGES ON wordpress.* TO "wpuser"@"localhost" IDENTIFIED BY "afnog";
mysql> FLUSH PRIVILEGES;
mysql> EXIT


2.1 Configure Apache to host the wordpress site. Edit the 000-default .conf file with the location of wordpress. 
Replace the contents of the 000-default.conf file with the content below.

	$ sudo nano /etc/apache2/sites-enabled/000-default.conf


 <VirtualHost *:80>
        ServerName pcXX.sse.ws.afnog.org
        DocumentRoot /usr/share/wordpress/
        DirectoryIndex index.php index.html
        ErrorLog /var/log/apache2/wp-error.log
        TransferLog /var/log/apache2/wp-access.log

        # wp-content in /var/lib/wordpress/wp-content
        Alias /wp-content /var/lib/wordpress/wp-content

        <Directory /usr/share/wordpress>
            Options FollowSymLinks
            <IfVersion < 2.3>
                Order allow,deny
                Allow from all
            </IfVersion>
            <IfVersion >= 2.3>
                Require all granted
            </IfVersion>
        </Directory>
        <Directory /var/lib/wordpress/wp-content>
            Options FollowSymLinks
            <IfVersion < 2.3>
                Order allow,deny
                Allow from all
            </IfVersion>
            <IfVersion >= 2.3>
                Require all granted
            </IfVersion>
        </Directory>
        </VirtualHost>


2.2 Create the wordpress config for the fully qualified domain name:

	$ cd /etc/wordpress/
	$ sudo nano config-pcXX.sse.ws.afnog.org.php 

2.2.1 Edit the config-pcXX.sse.ws.afnog.org.php with the database name, username and passwords 
created above so that it looks like so:

<?php
define('DB_NAME', 'wordpress');
define('DB_USER', 'wpuser');
define('DB_PASSWORD', 'afnog');
define('DB_HOST', 'localhost');
define('WP_CONTENT_DIR', '/var/lib/wordpress/wp-content');
?>                 

Save the configuration file and restart apache.

Point your browser to your WordPress virtual host 

http://pcXX.sse.ws.afnog.org/

Complete the setup as instructed on the page then:

Happy blogging!!!!!!!!!!!!!!!!!!!!!!!

2.3 To browse it on HTTPS, add the following to the top of the default-ssl.conf file:

	$ sudo nano /etc/apache2/sites-enabled/default-ssl.conf

Skip the first two lines below;

	<IfModule mod_ssl.c>
		<VirtualHost _default_:443>

Then remove the two lines after (see lines to be removed below)

		ServerAdmin webmaster@localhost
                DocumentRoot /var/www/html

Then add the following lines;

	ServerAdmin webmaster@pcXX.sse.ws.afnog.org
	DocumentRoot /usr/share/wordpress
	ServerName pcXX.sse.ws.afnog.org

       		<Directory "/usr/share/wordpress">
        	Options Indexes FollowSymLinks
        	AllowOverride AuthConfig FileInfo
        	Order allow,deny
        	Allow from all
	</Directory>

Save, exit and restart Apache then point your browser to your WordPress virtual host 

https://pcXX.sse.ws.afnog.org/

