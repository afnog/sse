INSTALLATION AND CONFIGURING WORDPRESS
-------------------------------------------------------------------


1. Install Wordpress:
------------------------------------------------------------------------------------

1.1 Install wordpress using packages:

	$ apt-get install wordpress

1.2 Configure Wordpress

Create the database for wordpress:

$ mysql -u root -p
Password:
mysql> CREATE DATABASE wordpress; 
mysql> GRANT ALL PRIVILEGES ON wordpress.* TO "wpuser"@"localhost" IDENTIFIED BY "afnog";
mysql> FLUSH PRIVILEGES;
mysql> EXIT

Create an A and AAAA record entry in your DNS entry based on the zone that has been delegated to you. For example, for the zone mich.bogus.gh:

	wordpress	IN 	A	196.200.219.XX
	wordpress	IN 	AAAA	2001:43f8:220:219::XX

This means you can reach wordpress via: http://wordpress.mich.bogus.gh . Create a config file for the wordpress blog to look as below

	$ sudo ee /etc/apache2/sites-enabled/wp-mich.bogus.gh.conf


 <VirtualHost *:80>
        ServerName wordpress.yourdomain.bogus.gh
        DocumentRoot /usr/share/wordpress/
        DirectoryIndex index.php index.html
        ErrorLog /var/log/apache2/wp-error.log
        TransferLog /var/log/apache2/wp-access.log

        # wp-content in /var/lib/wordpress/wp-content
        Alias /wp-content /var/lib/wordpress/wp-content

        <Directory /usr/share/wordpress>
            Options FollowSymLinks
            <IfVersion < 2.3>
                Order allow,deny
                Allow from all
            </IfVersion>
            <IfVersion >= 2.3>
                Require all granted
            </IfVersion>
        </Directory>
        <Directory /var/lib/wordpress/wp-content>
            Options FollowSymLinks
            <IfVersion < 2.3>
                Order allow,deny
                Allow from all
            </IfVersion>
            <IfVersion >= 2.3>
                Require all granted
            </IfVersion>
        </Directory>
        </VirtualHost>



Create the wordpress config for the fully qualified domain name:

	$ cd /etc/wordpress/
	$ ee config-wordpress.yourdomain.bogus.gh.php 

Edit the config-wordpress.yourdomain.bogus.gh.php with the database name, username and passwords created above.so that it looks like so:

<?php
define('DB_NAME', 'wordpress');
define('DB_USER', 'wpuser');
define('DB_PASSWORD', 'afnog');
define('DB_HOST', 'localhost');
define('WP_CONTENT_DIR', '/var/lib/wordpress/wp-content');
?>
                   

Save the configuration file and restart apache.

Point your browser to your WordPress virtual host 

http://wordpress.yourdomain.bogus.gh/

Complete the setup as instructed on the page then:

Happy blogging!!!!!!!!!!!!!!!!!!!!!!!

To browse it on HTTPS, add the following to the top of the default-ssl.conf file:

	$ sudo vi /etc/apache2/sites-enabled/default-ssl.conf

	NameVirtualHost *:443

Then add the below to the bottom of the file:

	<VirtualHost *:443>
	ServerAdmin webmaster@pcXX.sse.ws.afnog.org
	DocumentRoot /usr/share/wordpress
	ServerName wordpress.yourdomain.bogus.gh

       		<Directory "/usr/share/wordpress">
        	Options Indexes FollowSymLinks
        	AllowOverride AuthConfig FileInfo
        	Order allow,deny
        	Allow from all
	</Directory>
	ErrorLog /var/log/wordpress-s.err-error.log
	TransferLog /var/log/wordpress-s.tx-access.log
	SSLEngine on
	SSLCertificateFile /etc/apache2/ssl/server.crt
	SSLCertificateKeyFile /etc/apache2/ssl/server.key
	<FilesMatch "\.(cgi|shtml|phtml|php)$">
    	SSLOptions +StdEnvVars
	</FilesMatch>
       	<Directory â€œ/usr/lib/cgi-bin">
    	SSLOptions +StdEnvVars
	</Directory>
	BrowserMatch ".*MSIE.*" \
         nokeepalive ssl-unclean-shutdown \
         downgrade-1.0 force-response-1.0
	CustomLog "/var/log/httpd-ssl_request.log" \
          "%t %h %{SSL_PROTOCOL}x %{SSL_CIPHER}x \"%r\" %b"
	</VirtualHost>




Save, exit and restart Apache then point your browser to your WordPress virtual host 

https://wordpress.yourdomain.bogus.gh/

