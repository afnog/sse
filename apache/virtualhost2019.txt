
Apache VirtualHost Exercise: Vitus
-----------------------------------

NB: Please note, remember to replace X with your pc number. eg pc36.sse.ws.afnog.org

NB: Please note, remember to replace Y with your neighbours pc number. eg pc37.sse.ws.afnog.org

1. Create web directory for each host

sudo mkdir -p /var/www/html/pcX.sse.ws.afnog.org

sudo mkdir -p /var/www/html/pcY.sse.ws.afnog.org


2. sudo nano vi /var/www/html/pcX.sse.ws.afnog.org

--- WEB 1---
<html>
<head>
<title>SSE - Class</title>
</head>
<body>
<h1>Welcome To Afnog 20 SSE Class</h1>
</body>
</html>



3. nano vi /var/www/html/pcY.sse.ws.afnog.org


--- WEB 2 ---
<html>
<head>
<title>SSE</title>
</head>
<body>
<h1>Welcome To KAMPALA - UGANDA Afnog 20</h1>
</body>
</html>



4. sudo nano /etc/apache2/sites-available/pcX.sse.ws.afnog.org.conf

<VirtualHost *:80>

ServerAdmin root@pcX.sse.ws.afnog.org
ServerName pcX.sse.ws.afnog.org
DocumentRoot /var/www/html/pcX.sse.ws.afnog.org

ErrorLog ${APACHE_LOG_DIR}/www.pcX.sse.ws.afnog.org_error.log
CustomLog ${APACHE_LOG_DIR}/www.pcX.sse.ws.afnog.org_ccess.log combined

</VirtualHost>


5. sudo vi /etc/apache2/sites-available/pcY.sse.ws.afnog.org.conf

<VirtualHost *:80>

ServerAdmin root@pcX.sse.ws.afnog.org
ServerName pcX.sse.ws.afnog.org
DocumentRoot /var/www/html/pcY.sse.ws.afnog.org

ErrorLog ${APACHE_LOG_DIR}/www.pcY.sse.ws.afnog.org_error.log
CustomLog ${APACHE_LOG_DIR}/www.pcY.sse.ws.afnog.org_ccess.log combined

</VirtualHost>



IF your DNS is setup and working then do mapping on DNS. 

ELSE 

6. sudo nano /etc/hosts

127.0.0.1 pcX.sse.ws.afnog.org pc36
127.0.0.1 pcY.sse.ws.afnog.org pc37


TESTING
$lynx pcX.sse.ws.afnog.org

$lynx pcY.sse.ws.afnog.org


sudo a2dissite 000-default.conf

sudo a2ensite pcX.sse.ws.afnog.org.conf

sudo a2ensite pcY.sse.ws.afnog.org.conf


sudo systemctl reload apache2